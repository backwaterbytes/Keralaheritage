<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Backwater Bytes — Contact</title>

  <script>
    // Early embed signal so CSS can adjust immediately
    (function(){
      try { if (new URLSearchParams(location.search).get('embed')==='1')
        document.documentElement.setAttribute('data-embed','1');
      } catch(_){}
    })();
  </script>

  <!-- Vintage-Retro Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;1,300&family=Playfair+Display:wght@400;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --peach: #e2a97a;      /* fallback background */
      --accent: #7a4f3a;     /* dark brown accents */
      --paper: #f5e8d6;      /* cream paper for input */
      --muted: #b07a57;      /* muted text */
      --shadow: rgba(20,10,5,0.3);
      --max-width: 900px;
    }

    *{box-sizing:border-box; margin:0; padding:0}
    body{
      font-family: "Merriweather", serif;
      height:100vh;
      background: var(--peach) url("/static/BACKGROUNDS/BACKGROUNDS/background-image.png") no-repeat center center/cover;
      display:flex;
      justify-content:center;
      align-items:center;
      color:var(--accent);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      opacity: 1;
      transition: opacity 0.8s ease;
    }

    /* Header (hidden in embed) */
    .header { position: fixed; top: 0; left: 0; right: 0; background: rgba(122,79,58,0.95); backdrop-filter: blur(8px); z-index: 1000; padding: 0.6rem 1rem; box-shadow: 0 6px 24px var(--shadow); }
    .nav-container { max-width: 1100px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
    .logo { font-family: "Playfair Display", serif; font-weight: 900; font-size: 1.25rem; color: #fff5ea; letter-spacing: 0.5px; text-shadow: 1px 1px 2px rgba(0,0,0,0.35); }
    .back-btn { background: var(--paper); color: var(--accent); border: 2px solid rgba(0,0,0,0.06); padding: 0.4rem 0.9rem; border-radius: 999px; cursor: pointer; font-weight: 700; transition: transform 0.18s ease, box-shadow 0.18s ease; box-shadow: 0 4px 14px rgba(0,0,0,0.12); }
    .back-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 22px rgba(0,0,0,0.16); }
    [data-embed="1"] .header { display: none !important; }

    /* Overlay to improve text readability */
    .overlay{
      background: rgba(255, 248, 238, 0.88);
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 8px 40px var(--shadow);
      max-width: var(--max-width);
      width: 90%;
      text-align:center;
    }

    h1.title{
      font-family: "Playfair Display", serif;
      font-size: 48px;
      margin-bottom: 20px;
      text-shadow: 2px 2px 0 rgba(255,255,255,0.3);
    }

    .intro{
      font-size: 18px;
      line-height:1.6;
      color: var(--muted);
      margin-bottom: 24px;
    }

    /* email subscribe line */
    .email-line{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:16px;
      flex-wrap:wrap;
    }

    .env-icon{
      width:56px;
      height:56px;
      background:linear-gradient(180deg,#f6ecd7,#efe0c6);
      border-radius:6px;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 2px 6px 20px rgba(20,10,5,0.08), inset 0 -6px 12px rgba(0,0,0,0.02);
      border:1px solid rgba(0,0,0,0.04);
      flex-shrink:0;
    }

    .subscribe-wrap{
      background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(250,246,238,0.92));
      padding: 12px;
      border-radius:6px;
      display:flex;
      align-items:center;
      gap:10px;
      box-shadow: 0 6px 18px rgba(10,10,10,0.08);
      border:1px solid rgba(0,0,0,0.03);
      width:100%;
      max-width:500px;
    }

    input[type="email"]{
      border: none;
      outline:none;
      background: transparent;
      padding:14px 16px;
      font-size:16px;
      color:var(--accent);
      flex:1;
      font-family: "Merriweather", serif;
    }

    .subscribe-btn{
      background: var(--paper);
      border: 2px solid rgba(0,0,0,0.06);
      padding:12px 18px;
      font-weight:700;
      letter-spacing:1px;
      cursor:pointer;
      border-radius:4px;
      box-shadow: 0 6px 18px rgba(10,10,10,0.08);
      color:var(--accent);
      transition: transform .14s ease, box-shadow .14s ease;
      font-family: "Playfair Display", serif;
    }
    .subscribe-btn:hover{ transform: translateY(-2px); box-shadow: 0 10px 30px rgba(10,10,10,0.12); }

    .confirmation{
      margin-top:16px;
      color:#1a6a3a;
      font-weight:700;
      font-size:15px;
      opacity:0;
      transition:opacity .35s ease, transform .35s ease;
      transform: translateY(6px);
    }
    .confirmation.show{ opacity:1; transform: translateY(0); }

    @media (max-width:600px){
      h1.title{font-size:34px;}
      .intro{font-size:16px;}
      .subscribe-wrap{flex-direction:column; gap:8px;}
    }

    /* Floating card animation */
    @keyframes floatCard {
      0%   { transform: translateY(0); }
      50%  { transform: translateY(-6px); }
      100% { transform: translateY(0); }
    }

    /* Embedded full-bleed overrides: make it look like a full page section */
    [data-embed="1"],
    [data-embed="1"] html,
    [data-embed="1"] body{
      height: auto;                /* allow natural height so the iframe can auto-size */
      min-height: 100vh;           /* at least one viewport tall */
      flex-direction: column;      /* vertical flow */
      align-items: center;         /* center the card horizontally */
      justify-content: flex-start; /* top align vertically */
      padding: 0;                  /* no extra body padding; overlay handles spacing */
    }
    [data-embed="1"] .overlay{
      width: min(1060px, 92%);
      max-width: 1060px;           /* centered card width */
      margin: clamp(48px, 8vw, 96px) auto; /* space around card */
      border-radius: 24px;         /* soft corners */
      background: var(--cream, #FFF4E8); /* card surface */
      border: 2px solid var(--accent, #5a3b25); /* dark brown outline */
      box-shadow:
        0 30px 60px rgba(90,59,37, .28),
        0 12px 24px rgba(90,59,37, .18),
        0 2px 6px rgba(0,0,0,.06); /* floating depth */
      padding: clamp(48px, 6vw, 96px) clamp(20px, 6vw, 72px);
      min-height: auto;            /* size to content */
      display: block;
      animation: floatCard 8s ease-in-out infinite;
      will-change: transform;
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      [data-embed="1"] .overlay { animation: none; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="nav-container">
      <div class="logo">Backwater Bytes — Contact</div>
      <div>
        <button class="back-btn" onclick="goBackAbout()">← Back to About</button>
      </div>
    </div>
  </header>

  <div class="overlay" role="main" aria-labelledby="contactHeading">
    <h1 id="contactHeading" class="title">CONTACT US</h1>

    <p class="intro">
      “We’d love to hear from you! Whether you’re curious about Kerala’s heritage, have ideas to share,
      or just want to say hi — connect with us below.” <br><br>
      Our Email : <strong>backwaterbytes@gmail.com</strong>
    </p>

    <div class="email-line" aria-label="Subscribe to newsletter">
      <div class="env-icon" aria-hidden="true">
        <svg width="34" height="34" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 6.5A2.5 2.5 0 0 1 5.5 4h13A2.5 2.5 0 0 1 21 6.5v11A2.5 2.5 0 0 1 18.5 20h-13A2.5 2.5 0 0 1 3 17.5v-11z" stroke="#7a4f3a" stroke-width="0.9" fill="none"/>
          <path d="M4.5 6.6l7 5.3 7-5.3" stroke="#7a4f3a" stroke-width="0.9" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>

      <form id="subscribeForm" class="subscribe-wrap">
        <input id="emailInput" type="email" placeholder="Your Email Here" required>
        <button type="submit" class="subscribe-btn">SUBSCRIBE</button>
      </form>
    </div>

    <div id="confirm" class="confirmation">Thanks — you’re subscribed!</div>
  </div>

  <script>
    // Detect embedded mode via URL param
    const __params = new URLSearchParams(window.location.search);
    const __isEmbed = __params.get('embed') === '1';

    // Page entrance
    document.addEventListener('DOMContentLoaded', () => {
      if (!__isEmbed) {
        document.body.style.opacity = '0';
        setTimeout(()=>{ document.body.style.opacity = '1'; }, 60);
      }
    });

    // Back to About with fade
    function goBackAbout(){
      if (__isEmbed) return;
      document.body.style.transition = 'opacity 0.9s ease';
      document.body.style.opacity = '0';
      setTimeout(()=>{ window.location.href = 'about.html'; }, 900);
    }

    const form = document.getElementById('subscribeForm');
    const emailInput = document.getElementById('emailInput');
    const confirmEl = document.getElementById('confirm');

    function validEmail(e){
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);
}

    form.addEventListener('submit', (ev)=>{
      ev.preventDefault();
      const val = emailInput.value.trim();
      if(!validEmail(val)){
        confirmEl.textContent = 'Please enter a valid email address';
        confirmEl.style.color = '#7a2b1b';
        confirmEl.classList.add('show');
        setTimeout(()=> confirmEl.classList.remove('show'), 2500);
        return;
      }

      confirmEl.style.color = '#1a6a3a';
      confirmEl.textContent = '✅ Thanks — you’re subscribed!';
      confirmEl.classList.add('show');

      setTimeout(()=> { emailInput.value = ''; }, 600);
      setTimeout(()=> confirmEl.classList.remove('show'), 3000);
    });
  </script>
</body>
</html>
